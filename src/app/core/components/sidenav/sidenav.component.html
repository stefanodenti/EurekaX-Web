<div
  [ngClass]="{'w-60 lg:w-[300px]': sidenavStatus() === 'open', 'w-0': sidenavStatus() === 'close', 'fixed z-[9999]': isMobile(), 'relative': !isMobile()}"
     class="h-screen transition-all duration-200 ease-in-out" *ngIf="config?.visible">
  <div [class.hidden]="sidenavStatus() === 'close'" class="overflow-y-auto py-5 px-3 h-full bg-layout border-r border-gray-200 dark:border-gray-700">
    <div class="flex items-center px-3 mb-5" *ngIf="config?.configs?.showLogo">
      <img *ngIf="config?.configs?.showLogo"  class="w-full" [src]="themeService.theme().logo" alt="App logo">
    </div>
    <ul class="space-y-2">
      <ng-container *ngFor="let navigation of config?.navigations">
        <li>
          <ng-container [ngSwitch]="navigation.type">
            <ng-container *ngSwitchCase="'default'">
              <a [routerLink]="navigation.routerLink" class="flex items-center p-2 text-base font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
                <ng-container *ngIf="!!navigation.icon">
                  <svg aria-hidden="true" class="w-6 h-6 text-gray-400 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z"></path><path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z"></path></svg>
                </ng-container>
                <span class="ml-3">{{navigation.label}}</span>
              </a>
            </ng-container>

            <ng-container *ngSwitchCase="'selector'">
              <button type="button" class="flex items-center w-full p-2 text-base text-gray-900 transition duration-75 rounded-lg group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700" [attr.aria-controls]="'sidenav-toggle-' + navigation.label" [attr.data-collapse-toggle]="'sidenav-toggle-' + navigation.label">
                <svg *ngIf="!!navigation.icon" class="flex-shrink-0 w-5 h-5 text-gray-500 transition duration-75 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 21">
                  <path d="M15 12a1 1 0 0 0 .962-.726l2-7A1 1 0 0 0 17 3H3.77L3.175.745A1 1 0 0 0 2.208 0H1a1 1 0 0 0 0 2h.438l.6 2.255v.019l2 7 .746 2.986A3 3 0 1 0 9 17a2.966 2.966 0 0 0-.184-1h2.368c-.118.32-.18.659-.184 1a3 3 0 1 0 3-3H6.78l-.5-2H15Z"/>
                </svg>
                <span class="flex-1 ml-3 text-left whitespace-nowrap">{{navigation.label}}</span>
                <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                  <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
                </svg>
              </button>
              <ul [id]="'sidenav-toggle-' + navigation.label" class="hidden py-2 space-y-2">
                <ng-container *ngFor="let child of navigation.childs">
                  <li>
                    <a [routerLink]="child.routerLink" class="flex items-center w-full p-2 text-gray-900 transition duration-75 rounded-lg pl-11 group hover:bg-gray-100 dark:text-white dark:hover:bg-gray-700">{{child.label}}</a>
                  </li>
                </ng-container>
              </ul>
            </ng-container>
          </ng-container>
        </li>
      </ng-container>
      <ng-container *ngIf="config?.configs?.showAuthButtons">
        <li>
          <ng-container *ngIf="authService.isLoggedIn else loginButton">
            <a routerLink="/user-profile" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
              <svg class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm0 0a8.949 8.949 0 0 0 4.951-1.488A3.987 3.987 0 0 0 11 14H9a3.987 3.987 0 0 0-3.951 3.512A8.948 8.948 0 0 0 10 19Zm3-11a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
              </svg>
              <span class="flex-1 ml-3 whitespace-nowrap">Profile</span>
            </a>
          </ng-container>

          <ng-template #loginButton>
            <a routerLink="/auth/sign-in" class="flex items-center p-2 text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700 group">
            <svg class="flex-shrink-0 w-6 h-6 text-gray-500 transition duration-75 dark:text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 16">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 8h11m0 0L8 4m4 4-4 4m4-11h3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-3"/>
            </svg>
            <span class="flex-1 ml-3 whitespace-nowrap">Sign In</span>
            </a>
          </ng-template>
        </li>
      </ng-container>
    </ul>
  </div>
  <div class="hidden absolute bottom-0 left-0 justify-center p-4 space-x-4 w-full lg:flex bg-layout 0 z-20 border-r border-gray-200 dark:border-gray-700 items-center" [class.lg:hidden]="sidenavStatus() === 'close'">
    <eurekax-theme-selector *ngIf="config?.configs?.showThemeSelector" [iconMode]="true"></eurekax-theme-selector>
    <eurekax-dark-mode-toggle  *ngIf="config?.configs?.showDarkModeToggle"></eurekax-dark-mode-toggle>
    <eurekax-language-selector  *ngIf="config?.configs?.showLanguageSelector"></eurekax-language-selector>

    <a routerLink="/settings" class="inline-flex justify-center p-2 text-gray-500 rounded cursor-pointer dark:hover:text-white dark:text-gray-400 hover:text-gray-900 hover:bg-gray-100 dark:hover:bg-gray-600" *ngIf="config?.configs?.showSettings">
      <svg class="w-5 h-5 rounded-full " aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
        fill="none" viewBox="0 0 20 20">
        <g stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
          <path
            d="M19 11V9a1 1 0 0 0-1-1h-.757l-.707-1.707.535-.536a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0l-.536.535L12 2.757V2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v.757l-1.707.707-.536-.535a1 1 0 0 0-1.414 0L2.929 4.343a1 1 0 0 0 0 1.414l.536.536L2.757 8H2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h.757l.707 1.707-.535.536a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l.536-.535L8 17.243V18a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-.757l1.707-.708.536.536a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-.535-.536.707-1.707H18a1 1 0 0 0 1-1Z" />
          <path d="M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" />
        </g>
      </svg>
    </a>
  </div>
</div>

<div *ngIf="isMobile() && sidenavStatus() === 'open'" (click)="closeSidenav()" class="fixed w-screen bg-black bg-opacity-50 z-40 h-screen"></div>

